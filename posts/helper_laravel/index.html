<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site  | Laravel Helper</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.69.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="Laravel Helper" />
<meta property="og:description" content="Laravel cung cấp cho chúng ta rất nhiều function, những hàm global helper giúp chúng ta có thể gọi ở bất cứ đâu trong project. Nó giúp chúng ta thuận tiện hơn khi làm việc với arrays, object, paths&hellip;và rất nhiều vấn đề khác nữa. Bài viết dưới đây sẽ giúp bạn có một cái nhìn tổng quan nhất về Helper trong Laravel.
I. Các Method có sẵn 1. Arrays &amp; Objects" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/helper_laravel/" />
<meta property="article:published_time" content="2020-04-20T16:20:17+07:00" />
<meta property="article:modified_time" content="2020-04-20T16:20:17+07:00" />
<meta itemprop="name" content="Laravel Helper">
<meta itemprop="description" content="Laravel cung cấp cho chúng ta rất nhiều function, những hàm global helper giúp chúng ta có thể gọi ở bất cứ đâu trong project. Nó giúp chúng ta thuận tiện hơn khi làm việc với arrays, object, paths&hellip;và rất nhiều vấn đề khác nữa. Bài viết dưới đây sẽ giúp bạn có một cái nhìn tổng quan nhất về Helper trong Laravel.
I. Các Method có sẵn 1. Arrays &amp; Objects">
<meta itemprop="datePublished" content="2020-04-20T16:20:17&#43;07:00" />
<meta itemprop="dateModified" content="2020-04-20T16:20:17&#43;07:00" />
<meta itemprop="wordCount" content="1602">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Laravel Helper"/>
<meta name="twitter:description" content="Laravel cung cấp cho chúng ta rất nhiều function, những hàm global helper giúp chúng ta có thể gọi ở bất cứ đâu trong project. Nó giúp chúng ta thuận tiện hơn khi làm việc với arrays, object, paths&hellip;và rất nhiều vấn đề khác nữa. Bài viết dưới đây sẽ giúp bạn có một cái nhìn tổng quan nhất về Helper trong Laravel.
I. Các Method có sẵn 1. Arrays &amp; Objects"/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://example.org/" class="f3 fw2 hover-white no-underline white-90 dib">
      My New Hugo Site
    </a>
    <div class="flex-l items-center">
      

      
      














    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=http://example.org/posts/helper_laravel/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=http://example.org/posts/helper_laravel/&amp;text=Laravel%20Helper" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://example.org/posts/helper_laravel/&amp;title=Laravel%20Helper" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>

      <h1 class="f1 athelas mt3 mb1">Laravel Helper</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-04-20T16:20:17&#43;07:00">April 20, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Laravel cung cấp cho chúng ta rất nhiều function, những hàm global helper giúp chúng ta có thể gọi ở bất cứ đâu trong project. Nó giúp chúng ta thuận tiện hơn khi làm việc với arrays, object, paths&hellip;và rất nhiều vấn đề khác nữa. Bài viết dưới đây sẽ giúp bạn có một cái nhìn tổng quan nhất về Helper trong Laravel.</p>
<h2 id="i-các-method-có-sẵn">I. Các Method có sẵn</h2>
<p><strong>1. Arrays &amp; Objects</strong><br>
Trong nhóm này, helpers cung cấp khả năng làm việc với arrays và objects. Nhóm này bao gồm các helper function để thêm 2 mảng, thu gọn mảng đa chiều thành một mảng duy nhất và trả về phần tử đầu tiên của mảng, kiểm trả xem một item cụ thể hoặc item có tồn tại trong một mảng không và nhiều loại thao tác khác.<br>
Ví dụ các method:</p>
<ul>
<li><em>Arr::add()</em> Dùng để add thêm 1 cặp key/value đã cho vào trong 1 mảng, nếu key không tồn tại trong mảng hoặc là sẽ được set về null</li>
</ul>
<pre><code>use Illuminate\Support\Arr;

$array = Arr::add(['name' =&gt; 'Hoa'], 'age', 18);

Kết quả =&gt; ['name' =&gt; 'Hoa', 'age' =&gt; 18]

$array = Arr::add(['name' =&gt; 'Lan', 'age' =&gt; null], 'address', 'HN');

Kết quả =&gt; ['name' =&gt; 'Lan', 'address' =&gt; 'HN']
</code></pre><ul>
<li><em>Arr::collapse()</em> Dùng để thu gọn các mảng thành một mảng duy nhất</li>
</ul>
<pre><code>use Illuminate\Support\Arr;

$array = Arr::collapse([[1, 2, 3], [4, 5, 6], [7, 8, 9]]);

Kết quả =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre><ul>
<li><em>Arr::divide()</em> Method trả về 2 mảng, một mảng chứa keys và mảng còn lại chứa giá trị của mảng: values</li>
</ul>
<p><strong>2. Paths</strong><br>
Nhóm này trả về các đường dẫn của các thư mục khác nhau trong Laravel application của bạn như: app, config, public, resource, storage..</p>
<ul>
<li><em>app_path()</em> Dùng để trả về đường dẫn đầy đủ đến thư mục của bạn. Bạn cũng có thể sử dụng fucntion <em>app_path()</em> để tạo ra đường dẫn đến một tệp liên quan đến thư mục.</li>
</ul>
<pre><code>$path = app_path();
=&gt; Kết quả: &quot;/home/thuy.dung/Documents/laravel_study/app&quot;
</code></pre><p>Ngoài ra còn có <em>base_path()</em>, <em>config_path()</em>, <em>database_path()</em>, <em>public_path()</em>&hellip; Các bạn có thể tham khảo thêm tại <a href="https://laravel.com/docs/7.x/helpers#method-app-path">đây</a></p>
<p><strong>3. Strings</strong><br>
Nhóm này thao tác với chuỗi, bạn có thể chuyển đổi từ string thành camel case, tìm kiếm basename của class, chạy htmlspecialchars, convert text sang kebab case, convert text sang snake case và thực hiện nhiều thao tác khác.</p>
<ul>
<li><em>preg_replace_array()</em> Function này sẽ thay thế một string đã cho bằng cách sử dụng một mảng.</li>
</ul>
<pre><code>$string = 'Day la mot bai hat :text';

$replaced = preg_replace_array('/:[a-z_]+/', ['vui'], $string);

Kết quả =&gt;  Day la mot bai hat vui
</code></pre><ul>
<li><em>Str::after()</em> method sẽ trả về mọi thứ sau giá trị đã cho trong một chuỗi. Toàn bộ chuỗi sẽ được trả về nếu giá trị không tồn tại trong chuỗi (thứ 2)</li>
</ul>
<pre><code>use Illuminate\Support\Str;

$slice = Str::after('This is my love', 'This is');

Kết quả =&gt; ' my love'
</code></pre><ul>
<li><em>Str::contains()</em> method xác định nếu chuỗi đã cho có chứa giá trị đã cho (Có phân biệt chữ hoa, chữ thường)</li>
</ul>
<pre><code>use Illuminate\Support\Str;

$contains = Str::contains('This is my name', 'my');

Kết quả =&gt; true
</code></pre><p>Ngoài ra còn rất nhiều method hỗ trợ khác, bạn có thể tham khảo tại <a href="https://laravel.com/docs/7.x/helpers#method-str-is">đây</a></p>
<p><strong>4. URLs</strong><br>
Nhóm này hỗ trợ tạo URL. Bạn có thể tạo URL cho controller action, route name..</p>
<ul>
<li><em>action()</em></li>
</ul>
<pre><code>$url = action('UserController@index');

Kết quả =&gt; &quot;http://127.0.0.1:8000/users&quot;
</code></pre><ul>
<li><em>asset()</em></li>
</ul>
<pre><code>$url = asset('img/photo.jpg');
</code></pre><p>Ngoài ra còn rất nhiều method hỗ trợ khác, bạn có thể tham khảo tại <a href="https://laravel.com/docs/7.x/helpers#urls">đây</a></p>
<p><strong>5. Miscellaneous</strong><br>
Nhóm này hỗ trợ để làm việc với trạng thái của page, service container, authentication, cache&hellip;</p>
<ul>
<li><em>app()</em> Trả về  1 service container instance</li>
</ul>
<pre><code>$container = app();
</code></pre><ul>
<li><em>auth()</em> Trả về 1 authenticator instance, bạn có thể sử dụng nó thay vì Auth facade</li>
</ul>
<pre><code>$user = auth()-&gt;user();
</code></pre><ul>
<li><em>back()</em> Tạo ra 1 redirect HTTP response (chuyển hướng) đến vị trí trước đó của user</li>
</ul>
<pre><code>return back($status = 302, $headers = [], $fallback = false);

return back();
</code></pre><p>Ngoài ra còn rất nhiều method hỗ trợ khác, bạn có thể tham khảo tại <a href="https://laravel.com/docs/7.x/helpers#miscellaneous">đây</a></p>
<h2 id="ii-tự-tạo-helper-function-trong-laravel">II. Tự tạo Helper function trong Laravel</h2>
<p>Laravel đã hỗ trợ chúng ta rất nhiều funtion, nhưng trong trường hợp nào đó, bạn muốn thêm các function khác để phù hợp hơn với project của mình, thì lúc đó bạn cũng có thể tự tạo cho mình những function cần thiết như dưới đây.<br>
Trong phần này, chúng ta sẽ cùng nhau tạo một file Laravel helper để có thể sử dụng trên toàn bộ ứng dụng của bạn. Bạn có thể tùy chỉnh sắp xếp vị trí của helper file, tuy nhiên mình thích lưu giữ helper file trong forder <em>app/Helpers</em><br>
Bạn có thể đặt file helper ở bất cứ đâu trong ứng dụng của mình<br>
Đầu tiên, hãy tạo forder Helpers trong forder app, sau đó tạo file Helper.php. Dưới đây là nội dung của file:</p>
<pre><code>&lt;?php
 
if (!function_exists('human_file_size')) {
    /**
     * Returns a human readable file size
     *
     * @param integer $bytes
     * Bytes contains the size of the bytes to convert
     *
     * @param integer $decimals
     * Number of decimal places to be returned
     *
     * @return string a string in human readable format
     *
     * */
    function human_file_size($bytes, $decimals = 2)
    {
        $sz = 'BKMGTPE';
        $factor = (int)floor((strlen($bytes) - 1) / 3);
        return sprintf(&quot;%.{$decimals}f&quot;, $bytes / pow(1024, $factor)) . $sz[$factor];
 
    }
}
 
if (!function_exists('in_arrayi')) {
 
    /**
     * Checks if a value exists in an array in a case-insensitive manner
     *
     * @param mixed $needle
     * The searched value
     *
     * @param $haystack
     * The array
     *
     * @param bool $strict [optional]
     * If set to true type of needle will also be matched
     *
     * @return bool true if needle is found in the array,
     * false otherwise
     */
    function in_arrayi($needle, $haystack, $strict = false)
    {
        return in_array(strtolower($needle), array_map('strtolower', $haystack), $strict);
    }
}
</code></pre><p>Nếu bạn đang sử dụng một class và methods của nó là helper, bạn có thể start file với khai báo namespace</p>
<pre><code>namespace App\Helpers;
</code></pre><p>Nếu bạn không sử dụng khai báo namespace, thì các  hàm này sẽ trở thành global có sẵn, bạn có thể sử dụng chúng mà không cần namespace. Tất cả các function helper của Laravel được khai báo với namespace. Ngoài ra, helper class cũng có sẵn, nên nếu bạn muốn sử dụng helper mà không cần đến namespace, bạn chỉ cần xóa dòng này<br>
Có một vài cảnh báo khi khai báo function. Nên đặt tên các function khác nhau, tránh trường hợp bị conflict.</p>
<pre><code>if (!function_exists('human_file_size')) {
    function human_file_size($bytes, $decimals = 2)
    {
        // ...
    }
}
</code></pre><p>Nếu bạn bỏ qua case check này, việc conflict sẽ xảy ra bất cứ khi nào bạn khai báo lại function có cùng khai báo như thế này. Bạn có thể sử dụng hàm này hoặc có thể đặt tiền tố cho function name của mình, để tránh bị conflict.<br>
Sau khi đã tạo file Helper và định nghĩa các hàm trong đó, chúng ta cùng tìm hiểu làm sao để sử dụng file helper trong Laravel nhé :<br>
<em>- Tự động load file helper với composer. Sau đó có thể sử dụng những function helper bất cứ đâu trong ứng dụng của bạn.</em><br>
<em>- Sử dụng Laravel service provider để đăng ký file này. Laravel sẽ load file này cùng với những dependency khác.</em><br>
<em>- Sử dụng package</em><br>
Bây giờ thì đi tìm hiểu từng phần một nào!!</p>
<p><strong>1. Autoload với composer</strong><br>
Cách đầu tiên này khá dễ dàng và đơn giản. Bạn chỉ cần mở file composer.json sẽ thấy key <em>autoload</em>. Composer có hỗ trợ key <em>files</em> (một mảng chứa đường dẫn file mà bạn muốn load một cách tự động). Sau đó bạn thêm đường dẫn file vào mảng đó, như thế này:</p>
<pre><code> &quot;autoload&quot;: {
        &quot;psr-4&quot;: {
            &quot;App\\&quot;: &quot;app/&quot;
        },
        &quot;files&quot;: [
            &quot;app/Helpers/Helper.php&quot;
        ],
        &quot;classmap&quot;: [
            &quot;database/seeds&quot;,
            &quot;database/factories&quot;
        ]
    },
</code></pre><p>Sau đó chạy lệnh</p>
<pre><code>composer dump-autoload
</code></pre><p>Chạy lệnh này xong helper file của bạn sẽ được tự động load bên trong project.</p>
<p><strong>2. Sử dụng service providers</strong><br>
Đầu tiên, bạn tạo một helper service provider nhé. Mở cmd ra và chạy dòng lệnh</p>
<pre><code>php artisan make:provider HelperServiceProvider
</code></pre><p>Bạn sẽ nhìn thấy message logged ở màn hình</p>
<pre><code>Provider created successfully.
</code></pre><p>Xong bạn hãy mở file đó ra và đăng kí helper file bên trong hàm register của provider:</p>
<pre><code>public function register()
{
    $file = app_path('Helpers/Helper.php');
    if (file_exists($file)) {
        require_once($file);
    }
}
</code></pre><p>Trong khi đăng kí các method, mình bao gồm các dependencies. Ở trong một số project lớn hơn, sẽ có trường hợp bạn cần sử dụng nhiều file helper trong thư mục, bạn có thể thay đổi các method giống như dưới đây</p>
<pre><code>public function register()
{
    foreach (glob(app_path() . '/Helpers/*.php') as $file) {
        require_once($file);
    }
}
</code></pre><p>Nó sẽ yêu cầu tất cả các file ở trong thư mục app/Helpers. Bây giờ thì tạo service provider đã hoàn thành, chúng ta cần đi đăng kí chúng. Bạn hãy mở file <em>config/app.php</em> và thêm dòng dưới đây</p>
<pre><code>App\Providers\HelperServiceProvider::class,
</code></pre><p>Nếu file helper của bạn có class chứa những hàm helper và bạn có những namespace xác định, bạn có thể sử dụng dễ dàng bằng cách định nghĩa một alias . Bạn có thể làm điều đó bằng cách thêm dòng sau đây vào cuối mảng <em>aliases</em> trong <em>config/app.php</em> file:</p>
<p><em>&lsquo;Helper&rsquo; =&gt; App\Helpers\Helper::class</em>, Bằng cách này, bạn có thể gọi helper bằng cách sử dụng keyword Helper.</p>
<p><strong>3. Sử dụng package</strong><br>
Với cách này bạn không cần làm gì cả. Chỉ đơn giản là cài package vào và dùng. Tuy nhiên mình không khuyến khích cách này nên sẽ không nói nhiều về nó. Các bạn có thể tham khảo tại <a href="https://github.com/laravel/helpers">đây</a></p>
<p>Tham khảo:</p>
<ul>
<li><a href="https://tutsforweb.com/creating-helpers-laravel/">https://tutsforweb.com/</a></li>
<li><a href="https://laravel.com/docs/7.x/helpers">laravel.com</a></li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://example.org/" >
    &copy;  My New Hugo Site 2020 
  </a>
    <div>













</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
